(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},123:function(e,t,n){"use strict";n.r(t);var a,r=n(1),o=n.n(r),i=n(47),c=n.n(i),l=n(19),s=n(10),u=n(52),d=n(13),f=n(5),m=n(16),b={heroes:[],limit:window.innerWidth<1100?4:3,totalPages:0,offset:0,totalItems:0,name:"spider",hero:{name:"spider",description:"",thumbnail:"",events:[],series:[]}};var h,p=Object(m.createActions)({fetchHeroesAsync:[],fetchedHeroes:["totalItems","heroes"],changeLimit:[],onPaginateAsync:["offset"],onPaginate:["offset"]}),v=p.Types,g=p.Creators,E=Object(m.createReducer)(b,(a={},Object(d.a)(a,m.Types.DEFAULT,function(e){return Object(f.a)({},e)}),Object(d.a)(a,v.FETCHED_HEROES,function(e,t){var n=t.totalItems,a=t.heroes,r=Math.round(n/e.limit);return Object(f.a)({},e,{heroes:a,totalItems:n,totalPages:r})}),Object(d.a)(a,v.CHANGE_LIMIT,function(e){var t=window.innerWidth<1100?4:3;return Object(f.a)({},e,{limit:t})}),Object(d.a)(a,v.ON_PAGINATE,function(e,t){var n=t.offset;return Object(f.a)({},e,{offset:n})}),a)),w={windowWidth:window.innerWidth,isMobile:window.innerWidth<1100};var y=Object(m.createActions)({onWindowResize:[]}),O=y.Types,x=y.Creators,j=Object(m.createReducer)(w,(h={},Object(d.a)(h,m.Types.DEFAULT,function(e){return Object(f.a)({},e)}),Object(d.a)(h,O.ON_WINDOW_RESIZE,function(e,t){var n=window.innerWidth;return{windowWidth:n,isMobile:n<1200}}),h)),k=Object(s.c)({Heroes:E,Template:j}),C=n(17),H=n.n(C),M=n(51),T=n(14),A=n(49),N=n.n(A),S=H.a.mark(D),F=H.a.mark(L),P="8753d3f72d17692c327806bc8a360493",W=Number(new Date),R=N.a.create(),_=function(e){return e.Heroes};function D(){var e,t,n,a,r,o,i,c;return H.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,Object(T.d)(_);case 3:return e=l.sent,l.next=6,R.update(W+"5cb82d4d6de8ff209bd7e6b3732cf258cadd59e38753d3f72d17692c327806bc8a360493");case 6:return t=e.name?"&nameStartsWith=".concat(e.name):"",n=e.limit*e.offset,l.next=10,Object(T.b)(fetch,"https://gateway.marvel.com/v1/public/characters?ts=".concat(W,"&").concat(t,"&orderBy=name&limit=").concat(e.limit,"&offset=").concat(n,"&apikey=").concat(P,"&hash=").concat(R.hex()));case 10:return a=l.sent,l.next=13,a.json();case 13:return r=l.sent,o=r.data,i=o.total,c=o.results,l.next=17,Object(T.c)(g.fetchedHeroes(i,c));case 17:l.next=23;break;case 19:return l.prev=19,l.t0=l.catch(0),l.next=23,console.log("erro ao consumir api ",l.t0);case 23:case"end":return l.stop()}},S,null,[[0,19]])}function L(e){var t;return H.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.offset,n.next=3,Object(T.c)(g.onPaginate(t));case 3:return n.next=5,D();case 5:case"end":return n.stop()}},F)}var B=[Object(T.e)(v.FETCH_HEROES_ASYNC,D),Object(T.e)(v.ON_PAGINATE_ASYNC,L)],I=H.a.mark(z);function z(){return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)(Object(M.a)(B));case 2:case"end":return e.stop()}},I)}var U=Object(u.a)(),G=s.d;"development"==="production".trim()&&(G=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d);var J=Object(s.e)(k,G(Object(s.a)(U)));U.run(z);n(117);var X=n(125),Y=n(126),V=n(127),Z={primary:"#D42026",secondary:"#fbe9e9",inputBorder:"#A5A5A5",tableBorder:"#f6d2d3",text:"#4E4E4E",white:"#FFFFFF"},$=16;function q(e){return"".concat(e/$,"rem")}var K={fontFamily:"Roboto",fontWeight:300},Q={fontFamily:"Roboto",fontWeight:400},ee={fontFamily:"Roboto",fontWeight:900},te={title:Object(f.a)({fontSize:q(27),lineHeight:q(32),color:Z.primary},ee),subTitle:Object(f.a)({fontSize:q(27),lineHeight:q(32),color:Z.primary},K),label:Object(f.a)({fontSize:q(16),lineHeight:q(19),color:Z.primary},Q),header:Object(f.a)({fontSize:q(16),lineHeight:q(19),color:Z.white},Q),text:Object(f.a)({fontSize:q(21),lineHeight:q(24),color:Z.text},Q),pageNumber:Object(f.a)({fontSize:q(21),lineHeight:q(24)},Q)},ne=Object(f.a)({},te,{title:Object(f.a)({},te.title,{fontSize:q(16),lineHeight:q(19)}),subTitle:Object(f.a)({},te.subTitle,{fontSize:q(16),lineHeight:q(19)})});var ae=function(e){var t=e.text,n=e.isMobile,a=n?ne.title:te.title,r={container:{display:"flex",flexDirection:"column"},title:Object(f.a)({},a),titleBar:{width:q(54),height:q(n?3:4),marginTop:q(2),backgroundColor:Z.primary}};return o.a.createElement("div",{style:r.container},o.a.createElement("h1",{style:r.title},t.toUpperCase()),o.a.createElement("div",{style:r.titleBar}))};var re=function(e){var t=e.text,n=e.isMobile?ne.subTitle:te.subTitle,a=Object(f.a)({},n);return o.a.createElement("h2",{style:a},t.toUpperCase())};var oe=function(e){var t=e.title,n=e.subtitle,a=e.isMobile;return o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement(ae,{text:t,isMobile:a}),o.a.createElement(re,{text:n,isMobile:a}))};var ie=function(e){var t=e.isMobile,n={container:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:t?void 0:"100%",marginBottom:q(t?12:34),marginLeft:t?q(30):0}};return o.a.createElement("div",{style:n.container},o.a.createElement(oe,{title:"busca marvel",subtitle:"teste front-end",isMobile:t}),!t&&o.a.createElement(re,{text:"nome do candidato",isMobile:t}))};var ce=function(){var e={backgroundColor:Z.primary,height:q(12),width:"100%",left:0,bottom:0};return o.a.createElement("div",{style:e})};var le=Object(l.b)(function(e){return{isMobile:e.Template.isMobile}},function(e){return Object(s.b)(Object(f.a)({},x,g),e)})(function(e){var t=e.children,n=e.isMobile,a=e.onWindowResize,i=e.changeLimit;Object(r.useEffect)(function(){return window.addEventListener("resize",function(){a(),i()}),function(){return window.removeEventListener("resize",function(){i(),a()})}},[]);var c={container:{display:"flex",flexDirection:"column",flex:1},pageContainer:{margin:n?"12px 0px 0px 0px":"20px 42px 0px 42px",display:"flex",flexDirection:"column",flex:1}};return o.a.createElement("div",{style:c.container},o.a.createElement("div",{style:c.pageContainer},o.a.createElement(ie,{isMobile:n}),t),o.a.createElement(ce,null))}),se=n(21);n(118);var ue=function(e){var t=e.label,n=e.id,a=(e.searchHandler,e.isMobile),i={container:{marginLeft:a?q(30):void 0,marginRight:a?q(30):void 0,marginBottom:q(a?12:34)},label:Object(f.a)({},te.label),input:Object(f.a)({},te.label,{color:Z.text,border:"1px solid ".concat(Z.inputBorder),width:a?"100%":q(384),paddingLeft:q(14),height:q(29),backgroundColor:Z.white})},c=Object(r.useState)(""),l=Object(se.a)(c,2),s=l[0],u=l[1];return o.a.createElement("div",{style:i.container},o.a.createElement("label",{style:i.label,htmlFor:n},t),o.a.createElement("input",{autoFocus:!0,style:i.input,className:"search__input",id:n,name:n,type:"text",value:s,onChange:function(e){u(e.target.value)}}))};n(119);var de=function(e){var t=e.columns,n=e.registers,a=e.onRowClick,r=e.isMobile,i=r?"".concat(q(18)," 0 ").concat(q(18)," ").concat(q(14)):"".concat(q(20)," 0 ").concat(q(20)," ").concat(q(14)),c=r?"".concat(q(10)," 0 ").concat(q(10)," 6.2rem"):"".concat(q(10)," 0 ").concat(q(10)," ").concat(q(14)),l={text:Object(f.a)({},te.text,{padding:i,borderBottom:"".concat(q(r?1:2)," solid ").concat(Z.primary)}),header:Object(f.a)({},te.header,{backgroundColor:Z.primary,padding:c})};return o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,t.map(function(e){return o.a.createElement("th",{key:e.label,style:l.header},e.label)}))),o.a.createElement("tbody",null,n.map(function(e,n){return o.a.createElement("tr",{key:n,onClick:function(){return a(e)}},function(e,t,n){return t.map(function(t,a){return o.a.createElement("td",{key:a+n,style:l.text},t.renderFunction?t.renderFunction(e):e[t.field])})}(e,t,n))})))};var fe=function(e){var t=e.image,n=e.name,a={container:{display:"flex",flexDirection:"row",alignItems:"center"},image:{background:'url("'.concat(t,'") center center / cover no-repeat'),borderRadius:"50%",marginRight:q(25),width:q(58),height:q(58)},text:Object(f.a)({},te.text)};return o.a.createElement("div",{style:a.container},o.a.createElement("div",{style:a.image}),o.a.createElement("span",{style:a.text},n))};var me=function(e){var t=e.heroes,n=e.history,a=e.isMobile,r=[{label:a?"Nome":"Personagem",renderFunction:function(e){return o.a.createElement(fe,{image:"".concat(e.thumbnail.path,".").concat(e.thumbnail.extension),name:e.name})}},{label:"S\xe9ries",renderFunction:function(e){return e.series.items.slice(0,3).map(function(e){return o.a.createElement("div",{key:e.name,className:"color-black roboto-regular"},e.name.substring(0,24))})}},{label:"Eventos",renderFunction:function(e){return e.events.items.slice(0,3).map(function(e){return o.a.createElement("div",{key:e.name,className:"color-black roboto-regular"},e.name.substring(0,24))})}}];return a&&(delete r[1],delete r[2]),o.a.createElement(de,{isMobile:a,columns:r,registers:t,onRowClick:function(e){return n.push("/details")}})};n(120);function be(e){var t=e.isEnable,n=e.onClickHandler,a={width:0,height:0,borderTop:"8px solid transparent",borderBottom:"8px solid transparent",borderRight:"12px solid ".concat(t?"#d20a0a":"#efa9a9"),marginRight:"12px",cursor:t?"pointer":"not-allowed"};return o.a.createElement("div",{style:a,onClick:function(){t&&n()}})}be.defaultProps={isEnable:!1};var he=be;function pe(e){var t=e.isEnable,n=e.onClickHandler,a={width:0,height:0,borderTop:"8px solid transparent",borderBottom:"8px solid transparent",borderLeft:"12px solid ".concat(t?"#d20a0a":"#efa9a9"),marginLeft:"12px",cursor:t?"pointer":"not-allowed"};return o.a.createElement("div",{style:a,onClick:function(){t&&n()}})}pe.defaultProps={isEnable:!1};var ve=pe;function ge(e){var t=e.isActive,n=e.onClickHandler,a=e.number,r={backgroundColor:t?"#d42026":"#FFF",color:t?"#fff":"#d42026"};return o.a.createElement("div",{className:"page-number",style:r,onClick:function(){n()}},a)}ge.defaultProps={isActive:!1};var Ee=ge;var we=function(e){var t=e.offset,n=e.totalPages,a=e.isMobile,i=e.onPaginate,c=Object(r.useState)([]),l=Object(se.a)(c,2),s=l[0],u=l[1],d=Object(r.useState)(0),f=Object(se.a)(d,2),m=f[0],b=f[1];Object(r.useEffect)(function(){for(var e=[],t=0;t<n;t++)e.push(t);u(e)},[n]);var h={container:{marginBottom:q(24),marginTop:q(18)}};return o.a.createElement("div",{className:"paginator",style:h.container},o.a.createElement(he,{isEnable:t>0,onClickHandler:function(){return i(t-1)}}),function(){var e=n<6?n:5;return t>(e=a&&e>2?2:e)+m&&b(t-e),t<m&&b(m-1),s.slice(m,e+1+m).map(function(e){return o.a.createElement(Ee,{key:e,isActive:t===e,onClickHandler:function(){return i(e)},number:e+1})})}(),o.a.createElement(ve,{isEnable:t+1!==n,onClickHandler:function(){return i(t+1)}}))};n(121);var ye=Object(l.b)(function(e){return{heroes:e.Heroes.heroes,isMobile:e.Template.isMobile,limit:e.Heroes.limit,offset:e.Heroes.offset,totalPages:e.Heroes.totalPages}},function(e){return Object(s.b)(g,e)})(function(e){var t=e.history,n=e.heroes,a=e.isMobile,i=e.limit,c=e.offset,l=e.totalPages,s=e.fetchHeroesAsync,u=e.onPaginateAsync;return Object(r.useEffect)(function(){s()},[i]),o.a.createElement("div",{className:"search-page"},o.a.createElement(ue,{isMobile:a,searchHandler:function(){return!1},label:"Nome do Personagem",id:"hero-search"}),o.a.createElement(me,{heroes:n,history:t,isMobile:a}),o.a.createElement(we,{onPaginate:u,offset:c,totalPages:l,isMobile:a}))});var Oe=function(){return o.a.createElement("div",null,"Detalhes")};var xe=function(){return o.a.createElement(le,null,o.a.createElement(X.a,null,o.a.createElement(Y.a,null,o.a.createElement(V.a,{exact:!0,path:"/",component:ye}),o.a.createElement(V.a,{path:"/details",component:Oe}),o.a.createElement(V.a,{exact:!0,path:"/code-hero/",component:ye}),o.a.createElement(V.a,{path:"/code-hero/details",component:Oe}))))},je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ke(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(l.a,{store:J},o.a.createElement(xe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/code-hero",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/code-hero","/service-worker.js");je?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ke(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ke(t,e)})}}()},53:function(e,t,n){e.exports=n(123)}},[[53,1,2]]]);
//# sourceMappingURL=main.f883044f.chunk.js.map